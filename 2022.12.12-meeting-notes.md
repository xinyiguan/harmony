# 2022.12.12 Meeting notes

## Chord Transitions heatmap


### 1. How data is extracted: 
- Extract chord transitions (bigrams) within the same local key segment in a piece (referencing the same local tonic).


#### Questions:
![](https://i.imgur.com/20Fy620.png)


![](https://i.imgur.com/vz9cd9I.png)

**Q1**: In the tsv file the highlighted region cooresponds to the sequence `V I _ I6 V(64)` (in the key of Bb). How do we treat this gap when extracting bigrams?
    
- **option 1:** (current implementation): discard the gap 
     - `(V, I) (I, I6) (I6, V(64))`

- **option 2:** 
     - `(V, I) (I, I) (I, I6) (I6, V(64))`

- **option 3:** 
     - `(V, I) (I, n/a) (n/a, I6) (I6, V(64))`

**Q2:** In the "chord" column in the tsv file, there are no consecutive chords that are repeating? Do we want `(I,I)` or `(V,V)` etc. in the bigram (given they refer to the same tonic)? If so, how do we know when does this happen? In the current implementaion, such bigrams are not produced.

---

### 2. Plots and Interpretations:
- Look at the most frequent chord transitions (top 30).


#### 2.1 Metacorpora level:
![](https://i.imgur.com/h1kCaOt.png)

The figure shows the transition probabilities between the 30 top ranking chords across the entire corpus (containing 17 DCML corpora) in major segments (on the top) and in minor segments (at the bottom), where the transition probability (the conditional probability) is defined as:

$p_{a,b}=p_{a\rightarrow b}=P(chord_i=b|chord_{i-1}=a)$


- The shape values tells us about the size of chord vocabularies.


#### 2.2 Group by era:

![](https://i.imgur.com/XUJVICJ.jpg)


The figure shows the transition probabilities between the 30 top ranking chords in different era. Note that the rankings of chords are different in different era. 






### 3. Other related thoughts:

- **[study of pivot chord]** we can also look at the chord transition between the local key segements to study how modulation is done. 


